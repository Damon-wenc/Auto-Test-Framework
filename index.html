<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Auto-test-framework : An automatic &amp; light test system based on html &amp; python; python do the logic, and web(html) display it." />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Auto-test-framework</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/Damon-wenc/Auto-Test-Framework">View on GitHub</a>

          <h1 id="project_title">Auto-test-framework</h1>
          <h2 id="project_tagline">An automatic &amp; light test system based on html &amp; python; python do the logic, and web(html) display it.</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/Damon-wenc/Auto-Test-Framework/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/Damon-wenc/Auto-Test-Framework/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a name="auto-test-framework" class="anchor" href="#auto-test-framework"><span class="octicon octicon-link"></span></a>Auto-Test-Framework</h1>

<h2>
<a name="english-version" class="anchor" href="#english-version"><span class="octicon octicon-link"></span></a>English version</h2>

<h3>
<a name="description" class="anchor" href="#description"><span class="octicon octicon-link"></span></a>description</h3>

<p>An automatic &amp; light test framework based on Python &amp; HTML; python do the logic, and web(HTML) display it.</p>

<h2>
<a name="%E4%B8%AD%E6%96%87%E8%AF%B4%E6%98%8E" class="anchor" href="#%E4%B8%AD%E6%96%87%E8%AF%B4%E6%98%8E"><span class="octicon octicon-link"></span></a>中文说明</h2>

<h3>
<a name="%E4%B8%80%E5%8F%A5%E8%AF%9D%E7%BB%BC%E8%BF%B0" class="anchor" href="#%E4%B8%80%E5%8F%A5%E8%AF%9D%E7%BB%BC%E8%BF%B0"><span class="octicon octicon-link"></span></a>一句话综述</h3>

<p>这是一个由Python&amp;HTML构建的轻量级自动化测试框架; Python作逻辑层, HTML来显示.</p>

<h3>
<a name="%E8%AE%BE%E8%AE%A1%E5%AE%9A%E4%BD%8D" class="anchor" href="#%E8%AE%BE%E8%AE%A1%E5%AE%9A%E4%BD%8D"><span class="octicon octicon-link"></span></a>设计定位</h3>

<p>这不是是一个完整的自动化测试系统, 仅仅是一个上层的测试框架, 类似于一个控制中心, 下层的系统内的各种测试并不包含在内, 但是可以通过ssh来发送'start'命令, 通过收集'日志'接口来获取状态log, 等等来完成整套测试. 同时HTML(web)能清晰直白地显示出测试结果, 方便测试员观察.</p>

<h3>
<a name="%E6%A1%86%E6%9E%B6" class="anchor" href="#%E6%A1%86%E6%9E%B6"><span class="octicon octicon-link"></span></a>框架</h3>

<p>整套代码不到600行, 大体框架如下图
<img src="https://github.com/Damon-wenc/Auto-Test-Framework/raw/master/examples/structure.png" alt="structure"></p>

<ul>
<li>
<strong>web_tornado.py</strong>是主函数, 由<a href="http://www.tornadoweb.org/en/stable/">tornado</a>这个库发力, 主要处理index/init/run/stop/open log各个请求动作</li>
<li>
<strong>GLOBAL.py</strong>保存全局变量</li>
<li>
<strong>init_by_ping.py</strong>用抓取ping返回值的方式判断设备是否存活</li>
<li>
<strong>run_test.py</strong>采用多线程的方式处理发送命令/抓取log/分析log的操作</li>
<li>
<strong>ssh.py</strong>藉由plink连接各设备, 有重连机制</li>
<li>
<strong>analysis.py</strong>用抓取错误关键字的方式分析log</li>
</ul><h3>
<a name="%E7%95%8C%E9%9D%A2%E7%A4%BA%E4%BE%8B" class="anchor" href="#%E7%95%8C%E9%9D%A2%E7%A4%BA%E4%BE%8B"><span class="octicon octicon-link"></span></a>界面示例</h3>

<ol>
<li>首先是运行web_tornado.py后的根页面
<img src="https://github.com/Damon-wenc/Auto-Test-Framework/raw/master/examples/index.jpg" alt="index">
这里展示了对100台设备进行管理.</li>
<li>第二步, 敲击init键
<img src="https://github.com/Damon-wenc/Auto-Test-Framework/raw/master/examples/init.jpg" alt="init">
例如这是前80台设备在线, 以绿色标识; 灰色设备是不在线.</li>
<li>第三步, 敲击run键
<img src="https://github.com/Damon-wenc/Auto-Test-Framework/raw/master/examples/run.jpg" alt="run">
此时程序已开始运行, 并且出现问题的设备会用红色标识. 点击各表格, 会跳转到相应的log轮次. 例如绿色的会跳转到96轮log, 红色则跳转到出问题的那一轮. 红色的设备将不继续进程后续测试. </li>
<li>第四步, 当所有测试完后需点击stop键</li>
</ol><h3>
<a name="%E8%AF%A6%E7%BB%86%E8%AE%BE%E8%AE%A1" class="anchor" href="#%E8%AF%A6%E7%BB%86%E8%AE%BE%E8%AE%A1"><span class="octicon octicon-link"></span></a>详细设计</h3>

<p>请点击左上角自行阅读源代码:D</p>

<h3>
<a name="%E6%9C%80%E5%90%8E%E8%AF%B4%E6%98%8E" class="anchor" href="#%E6%9C%80%E5%90%8E%E8%AF%B4%E6%98%8E"><span class="octicon octicon-link"></span></a>最后说明</h3>

<p>这只是一个上层的清晰明了的控制框架, 下层怎么实现取决于你, 最终只要能抓取到测试的log则算一个完整的来回. 这只是一个对于大规模测试的抱砖引玉的idea, 具体怎么实施, 那将由你来决定!</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Auto-test-framework maintained by <a href="https://github.com/Damon-wenc">Damon-wenc</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
